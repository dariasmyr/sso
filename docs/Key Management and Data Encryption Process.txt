title Key Management and Data Encryption Process

participant Client
participant DB
participant Cloud Storage
    
note over Client:Initiate key creation 
Client->Client: Initiate key creation
Client->Client: Generate main key
Client->Client: Split key into parts
Client->Server: Send part of the key
Client->Cloud Storage: Send part of the key

note over Client:Data Encryption 
    Client->Client: Send data for encryption
    Client->DB: Retrieve part of the key
    Client->Cloud Storage: Retrieve part of the key
    Client->Client: Generate main key
    Client->Client: Encrypt data
    Client->Server: Send encrypted data
    
note over Client:Data Decryption 
    Client->Server: Request encrypted data
    Server->Client: Send encrypted data
    Client->Client: Send encrypted data
    Client->DB: Retrieve part of the key
    Client->Cloud Storage: Retrieve part of the key
    Client->Client: Generate main key
    Client->Client: Decrypt data
    Client->Client: Display decrypted data